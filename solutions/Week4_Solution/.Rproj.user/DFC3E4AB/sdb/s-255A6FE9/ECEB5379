{
    "collab_server" : "",
    "contents" : "# libraries ---------------------------------------------------------------\nlibrary(tidyverse)\n\n# 8. Read data --------------------------------------------------------------------\n# Moth communities\nTotal_comun<-read.csv(\"./outputs/mothComunity_2012_2013.csv\")\nSp_values<-read.csv(\"./outputs/Moth_species_values.csv\")\n\n# 9. Create summary table species ----------------------------------------------------\n# Total abundance of moths in each of the treatments\nSp_Abun_table<-Sp_values %>% \n  group_by(Species,treatment) %>% \n  summarise(Total_abundance=sum(Abundance))\n\n# 10. Check number of individuals per species per treatment\nSp_Abun_table %>% \n  filter(Species==\"Agrotis.vancouverensis\")\n\nSp_Abun_table %>% \n  filter(Species==\"Drasteria.divergens\")\n\nSp_Abun_table %>% \n  filter(Species==\"Hydriomena.manzanita\")\n\nSp_Abun_table %>% \n  filter(Species==\"Xanthorhoe.defensaria\")\n\n# 10. year as a factor  -------------------------------------------------\nTotal_comun$year<-as.factor(Total_comun$year)\n\n\n# 11. Plot figure 2D of the original paper ------------------------------\n\npdf(\"./figs/MothRichness_treatments.pdf\")\nggplot(Total_comun, aes(y = Total_sp, x = treatment, fill=year)) +\n  geom_boxplot() +\n  geom_jitter(aes(shape = year,colour=year), width = 0.1)  \ndev.off()\n\npdf(\"./figs/MothAbundance_treatments.pdf\")\nggplot(Total_comun, aes(y = Total_abundance, x = treatment, fill=year)) +\n  geom_boxplot() +\n  geom_jitter(aes(shape = year,colour=year), width = 0.1)  \ndev.off()\n\n\n## Challenge: Other plot options  -----------------------------------\nlibrary(lattice)\nbwplot(Total_comun$Total_sp~Total_comun$treatment|Total_comun$year,\n       ylab=\"Moth richness\", xlab=\"Treatment\")\n\n## Option 2\nindx1<-which(Total_comun$year==2012)\nindx2<-which(Total_comun$year==2013)\n\nboxplot(Total_sp[indx1]~treatment[indx1],\n        data=Total_comun, \n        boxfill=rgb(1, 1, 1, alpha=1), \n        border=rgb(1, 1, 1, alpha=1),\n        ylab=\"Moth richness\", xlab=\"Treatment\")\n\nboxplot(Total_sp[indx1]~treatment[indx1], \n        data=Total_comun, \n        add=TRUE,\n        boxwex=0.25, xaxt = \"n\", boxfill=\"red\")\n\nboxplot(Total_sp[indx2]~treatment[indx2], \n        data=Total_comun, \n        add=TRUE,\n        at=1:n_distinct(Total_comun$treatment) + 0.3,\n        boxwex=0.25, xaxt = \"n\", boxfill=\"blue\")\n\nstripchart(Total_sp[indx1]~treatment[indx1], vertical = TRUE, data = Total_comun, \n           method = \"jitter\", add = TRUE, pch = 20, col = 'red',\n           at=1:n_distinct(Total_comun$treatment) + 0.2)\n\nstripchart(Total_sp[indx2]~treatment[indx2], vertical = TRUE, data = Total_comun, \n           method = \"jitter\", add = TRUE, pch = 17, col = 'blue',\n           at=1:n_distinct(Total_comun$treatment) + 0.2)\n\nlegend(\"topright\", legend=c(\"2012\", \"2013\"),\n       fill=c(\"red\", \"blue\"), cex=0.8,\n       title=\"Year\", text.font=4)\n  \n",
    "created" : 1518456776400.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3296820274",
    "id" : "ECEB5379",
    "lastKnownWriteTime" : 1518470279,
    "last_content_update" : 1518470279130,
    "path" : "~/Downloads/Assignment4/1_Exploring_data.R",
    "project_path" : "1_Exploring_data.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}